(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[290],{3007:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>p});var l=t(5155),s=t(2115),i=t(6413),n=t(8482),c=t(9852),r=t(7168),o=t(8145),d=t(4416),m=t(7618),u=t(7383);function p(){let[e,a]=(0,s.useState)({lecture:{percentage:null},tutorial:{percentage:null},practical:{percentage:null},skilling:{percentage:null}}),[t,p]=(0,s.useState)(""),[x,f]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),[j,y]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=u.A.get("ltpsCalculatorDrafts");if(e)try{let a=JSON.parse(e);y(a)}catch(e){console.error("Failed to parse saved results",e)}},[]);let N=()=>{let a=0,t=0,l={lecture:1,tutorial:.25,practical:.5,skilling:.25};return Object.entries(e).forEach(e=>{let[s,i]=e,n=i.percentage;if(null!==n){let e=l[s];a+=e,t+=n*e}}),a>0?t/a:0},v=a=>{let t=N(),l=[...j,{id:Date.now().toString(),subject:a,components:JSON.parse(JSON.stringify(e)),finalPercentage:t,date:new Date().toLocaleDateString()}];y(l),u.A.set("ltpsCalculatorDrafts",JSON.stringify(l),{expires:30})},b=e=>{let a=j.filter(a=>a.id!==e);y(a),u.A.set("ltpsCalculatorDrafts",JSON.stringify(a),{expires:30})},w=e=>{a(e.components),p(e.subject),g(!0),f(!0)},k=(e,t)=>{let l=""===t?null:Math.min(100,Math.max(0,parseFloat(t)||0));a(a=>({...a,[e]:{percentage:l}}))},P=()=>null!==e.lecture.percentage||null!==e.tutorial.percentage||null!==e.practical.percentage||null!==e.skilling.percentage;return(0,l.jsxs)("div",{className:"w-full space-y-6 mx-auto max-w-xl px-4",children:[(0,l.jsx)(i.P.div,{className:"flex flex-wrap items-center justify-center gap-2 mb-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,l.jsxs)("div",{className:"relative inline-block",children:[(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold font-poppins letter-spacing-tight",children:"LTPS Attendance Calculator"}),(0,l.jsx)(i.P.div,{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gradient-to-r from-red-500 via-red-400 to-red-600 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:1,delay:.3}})]})}),(0,l.jsx)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"w-full",children:(0,l.jsx)("div",{className:"gradient-glow w-full",children:(0,l.jsxs)(n.Zp,{className:"w-full bg-card/90 backdrop-blur-sm flex flex-col",children:[(0,l.jsxs)(n.aR,{className:"pb-4",children:[(0,l.jsx)(n.ZB,{className:"font-poppins font-semibold",children:"Calculate Attendance"}),(0,l.jsx)(n.BT,{className:"font-outfit",children:"Enter your attendance percentages for each component"})]}),(0,l.jsx)(n.Wu,{className:"flex-grow",children:(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g(!0),f(!0),t.trim()&&P()&&v(t)},className:"space-y-6 h-full flex flex-col",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 flex-grow",children:[(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"space-y-2",children:[(0,l.jsx)("h3",{className:"font-medium font-poppins",children:"Lecture (100%)"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"lecture",className:"text-sm font-medium font-outfit",children:"Lecture Attendance (%)"}),(0,l.jsx)(c.p,{id:"lecture",type:"number",min:"0",max:"100",step:"0.01",value:null===e.lecture.percentage?"":e.lecture.percentage,onChange:e=>k("lecture",e.target.value),placeholder:"Enter lecture attendance",className:"w-full"})]})})]}),(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"space-y-2",children:[(0,l.jsx)("h3",{className:"font-medium font-poppins",children:"Tutorial (25%)"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"tutorial",className:"text-sm font-medium font-outfit",children:"Tutorial Attendance (%)"}),(0,l.jsx)(c.p,{id:"tutorial",type:"number",min:"0",max:"100",step:"0.01",value:null===e.tutorial.percentage?"":e.tutorial.percentage,onChange:e=>k("tutorial",e.target.value),placeholder:"Enter tutorial attendance",className:"w-full"})]})})]}),(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"space-y-2",children:[(0,l.jsx)("h3",{className:"font-medium font-poppins",children:"Practical (50%)"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"practical",className:"text-sm font-medium font-outfit",children:"Practical Attendance (%)"}),(0,l.jsx)(c.p,{id:"practical",type:"number",min:"0",max:"100",step:"0.01",value:null===e.practical.percentage?"":e.practical.percentage,onChange:e=>k("practical",e.target.value),placeholder:"Enter practical attendance",className:"w-full"})]})})]}),(0,l.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"space-y-2",children:[(0,l.jsx)("h3",{className:"font-medium font-poppins",children:"Skilling (25%)"}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"skilling",className:"text-sm font-medium font-outfit",children:"Skilling Attendance (%)"}),(0,l.jsx)(c.p,{id:"skilling",type:"number",min:"0",max:"100",step:"0.01",value:null===e.skilling.percentage?"":e.skilling.percentage,onChange:e=>k("skilling",e.target.value),placeholder:"Enter skilling attendance",className:"w-full"})]})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{htmlFor:"subjectName",className:"text-sm font-medium font-outfit flex items-center gap-2",children:["Subject Name",(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"(Optional - to save as draft)"})]}),(0,l.jsx)(c.p,{id:"subjectName",type:"text",value:t,onChange:e=>p(e.target.value),placeholder:"Enter subject name to save as draft",className:"w-full"})]}),(0,l.jsx)(i.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-auto",children:(0,l.jsx)(r.$,{type:"submit",className:"w-full",children:"Calculate"})})]})})]})})}),x&&h&&P()&&(0,l.jsx)(i.P.div,{className:"w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,l.jsx)(m.i,{components:e})}),j.length>0&&(0,l.jsx)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full",children:(0,l.jsx)("div",{className:"gradient-glow w-full",children:(0,l.jsxs)(n.Zp,{className:"w-full bg-card/90 backdrop-blur-sm",children:[(0,l.jsxs)(n.aR,{className:"pb-2",children:[(0,l.jsx)(n.ZB,{className:"font-poppins font-semibold text-lg",children:"Saved Drafts"}),(0,l.jsx)(n.BT,{className:"font-outfit",children:"Click on a draft to load it"})]}),(0,l.jsx)(n.Wu,{children:(0,l.jsx)("div",{className:"space-y-2",children:j.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-muted/50 transition-colors",children:[(0,l.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>w(e),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(o.E,{variant:e.finalPercentage>=85?"default":e.finalPercentage>=75?"secondary":"destructive",className:e.finalPercentage>=85?"bg-green-500/20 text-green-600 dark:bg-green-500/30 dark:text-green-400 hover:bg-green-500/30 hover:dark:bg-green-500/40":e.finalPercentage>=75?"bg-yellow-500/20 text-yellow-600 dark:bg-yellow-500/30 dark:text-yellow-400 hover:bg-yellow-500/30 hover:dark:bg-yellow-500/40":"",children:[e.finalPercentage.toFixed(2),"%"]}),(0,l.jsx)("span",{className:"font-medium",children:e.subject})]}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Saved on ",e.date]})]}),(0,l.jsx)(r.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>b(e.id),children:(0,l.jsx)(d.A,{className:"h-4 w-4"})})]},e.id))})})]})})})]})}},4686:(e,a,t)=>{Promise.resolve().then(t.bind(t,3007))}},e=>{var a=a=>e(e.s=a);e.O(0,[655,665,441,684,358],()=>a(4686)),_N_E=e.O()}]);