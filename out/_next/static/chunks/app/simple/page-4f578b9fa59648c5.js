(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{3739:(e,s,a)=>{Promise.resolve().then(a.bind(a,8700))},8700:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var t=a(5155),l=a(2115),i=a(6413),n=a(8482),r=a(9852),c=a(7168),d=a(8145),o=a(4416),m=a(7618),u=a(7383);function x(){let[e,s]=(0,l.useState)(null),[a,x]=(0,l.useState)(null),[p,f]=(0,l.useState)(""),[h,g]=(0,l.useState)(!1),[N,j]=(0,l.useState)(!1),[v,b]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e=u.A.get("simpleCalculatorDrafts");if(e)try{let s=JSON.parse(e);b(s)}catch(e){console.error("Failed to parse saved results",e)}},[]);let y=(e,s,a)=>{let t=[...v,{id:Date.now().toString(),subject:a,totalClasses:e,presents:s,percentage:s/e*100,date:new Date().toLocaleDateString()}];b(t),u.A.set("simpleCalculatorDrafts",JSON.stringify(t),{expires:30})},w=e=>{let s=v.filter(s=>s.id!==e);b(s),u.A.set("simpleCalculatorDrafts",JSON.stringify(s),{expires:30})},C=e=>{s(e.totalClasses),x(e.presents),f(e.subject),j(!0),g(!0)};return(0,t.jsxs)("div",{className:"w-full space-y-6 mx-auto max-w-xl px-4",children:[(0,t.jsx)(i.P.div,{className:"flex flex-wrap items-center justify-center gap-2 mb-10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold font-poppins letter-spacing-tight",children:"Simple Attendance Calculator"}),(0,t.jsx)(i.P.div,{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gradient-to-r from-red-500 via-red-400 to-red-600 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:1,delay:.3}})]})}),(0,t.jsx)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"w-full",children:(0,t.jsx)("div",{className:"gradient-glow w-full",children:(0,t.jsxs)(n.Zp,{className:"w-full bg-card/90 backdrop-blur-sm flex flex-col",children:[(0,t.jsxs)(n.aR,{className:"pb-4",children:[(0,t.jsx)(n.ZB,{className:"font-poppins font-semibold",children:"Calculate Attendance"}),(0,t.jsx)(n.BT,{className:"font-outfit",children:"Enter your total classes and classes attended"})]}),(0,t.jsx)(n.Wu,{className:"flex-grow",children:(0,t.jsxs)("form",{onSubmit:s=>{s.preventDefault(),j(!0),g(!0),p.trim()&&e&&a&&y(e,a,p)},className:"space-y-6 h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 flex-grow",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"totalClasses",className:"text-sm font-medium font-outfit",children:"Total Classes"}),(0,t.jsx)(r.p,{id:"totalClasses",type:"number",min:"0",value:null===e?"":e,onChange:e=>s(""===e.target.value?null:Number(e.target.value)),placeholder:"Enter total classes",className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"presents",className:"text-sm font-medium font-outfit",children:"Classes Attended"}),(0,t.jsx)(r.p,{id:"presents",type:"number",min:"0",max:e||void 0,value:null===a?"":a,onChange:e=>x(""===e.target.value?null:Number(e.target.value)),placeholder:"Enter classes attended",className:"w-full"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{htmlFor:"subjectName",className:"text-sm font-medium font-outfit flex items-center gap-2",children:["Subject Name",(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"(Optional - to save as draft)"})]}),(0,t.jsx)(r.p,{id:"subjectName",type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"Enter subject name to save as draft",className:"w-full"})]}),(0,t.jsx)(i.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-auto",children:(0,t.jsx)(c.$,{type:"submit",className:"w-full",children:"Calculate"})})]})})]})})}),h&&N&&null!==e&&null!==a&&e>0&&a>0&&(0,t.jsx)(i.P.div,{className:"w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,t.jsx)(m.l,{totalClasses:e||0,presents:a||0})}),v.length>0&&(0,t.jsx)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full",children:(0,t.jsx)("div",{className:"gradient-glow w-full",children:(0,t.jsxs)(n.Zp,{className:"w-full bg-card/90 backdrop-blur-sm",children:[(0,t.jsxs)(n.aR,{className:"pb-2",children:[(0,t.jsx)(n.ZB,{className:"font-poppins font-semibold text-lg",children:"Saved Drafts"}),(0,t.jsx)(n.BT,{className:"font-outfit",children:"Click on a draft to load it"})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:v.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-muted/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>C(e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(d.E,{variant:e.percentage>=85?"default":e.percentage>=75?"secondary":"destructive",className:e.percentage>=85?"bg-green-500/20 text-green-600 dark:bg-green-500/30 dark:text-green-400 hover:bg-green-500/30 hover:dark:bg-green-500/40":e.percentage>=75?"bg-yellow-500/20 text-yellow-600 dark:bg-yellow-500/30 dark:text-yellow-400 hover:bg-yellow-500/30 hover:dark:bg-yellow-500/40":"",children:[e.percentage.toFixed(2),"%"]}),(0,t.jsx)("span",{className:"font-medium",children:e.subject}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.presents,"/",e.totalClasses,")"]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Saved on ",e.date]})]}),(0,t.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>w(e.id),children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})]},e.id))})})]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[655,665,441,684,358],()=>s(3739)),_N_E=e.O()}]);